<h2 id="page-title">Workflow <%=wfname%></h2>
<div class="workflow-instance">
<% if (stat == 'running') { %>
  <div id="workflow-tasks" onclick="updateWf('http://<%=host%>/workflow/<%=wfname%>/instances/<%=nr%>/delta-<%=now%>')">
<% } else { %>
  <div id="workflow-tasks">
<% } %>
    <% if (stat == 'waiting') { %>
      <form class="workflow-instance-run" action="/workflow/<%=wfname%>/instances/<%=nr%>" method="post">
        <p class="buttons">
          <input class="button" type="submit" value="Run"/>
        </p>
      </form>
    <% } %>
    <ul class="all">
      <% for(i=0,x=wftasks.length;i<x;i++) { %>
        <li class="task-status-<%=wftasks[i].status%>">
            <a rel="workflow-task" href="<%=wftasks[i].uri%>">
               <span class="name">
                   <%=wftasks[i].name%>
               </span>
            </a>
        </li>
        <div id="workflow-task-inputs">
          <ul id="workflow-task-inputs" class="all">
             <li class="list-name">Inputs</li>
             <% for(j=0,y=wfins[i].length;j<y;j++) { %>
                    <li class="data-status-<%=wfins[i][j].status%>">
                       <a rel="workflow-task-data input" href="<%=wfins[i][j].uri%>/"><%=wfins[i][j].name%></a>
                    </li>
             <% } %>
          </ul>
       </div>
        <div id="workflow-task-outputs">
          <ul id="workflow-task-outputs" class="all">
             <li class="list-name">Outputs</li>
             <% for(j=0,y=wfouts[i].length;j<y;j++) { %>
                    <li class="data-status-<%=wfouts[i][j].status%>">
                       <a rel="workflow-task-data output" href="<%=wfouts[i][j].uri%>/"><%=wfouts[i][j].name%></a>
                    </li>
             <% } %>
          </ul>
       </div>
      <% } %>
    </ul>   
  </div>
  <a rel="delta" href="/workflow/<%=wfname%>/instances/<%=nr%>/delta-<%=now%>">
  delta
  </a>
</div>
